% general imports %
\usepackage{xifthen}
\usepackage{tcolorbox}
\usepackage{theoremref}
\usepackage{enumitem}
\usepackage{bookmark}
\usepackage{comment}
\usepackage{xcolor}
\usepackage{transparent}
\usepackage{varwidth}
\usepackage{multicol}
\usepackage{import}
\usepackage{pdfpages}
\usepackage{titletoc}
\usepackage{lmodern}

% math imports
\usepackage{amsmath,amsfonts,amsthm,amssymb,mathtools}
\usepackage[varbb]{newpxmath}
\usepackage[makeroom]{cancel}
\usepackage{xfrac}
\usepackage{array}

% tikz imports
\usepackage{tikz-cd}
\usepackage{tikz}
\usepackage{scalerel}
\usepackage{pict2e}
\usepackage{tkz-euclide}
\usepackage{tikzsymbols}
\usetikzlibrary{calc}
\usetikzlibrary{patterns,arrows.meta}
\usetikzlibrary{shadows}
\usetikzlibrary{external}

% cs imports
\usepackage[algoruled,linesnumbered,titlenumbered]{algorithm2e}

% pgfplots
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usepgfplotslibrary{statistics}
\usepgfplotslibrary{fillbetween}

\definecolor{clink}{HTML}{002137}
\usepackage{hyperref}
\hypersetup{%
  pdftitle = {Problems},
  colorlinks = true,
  linkcolor = clink,
  bookmarksnumbered = true,
  bookmarksopen = true
}

% language
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% general settings
\setlength{\parindent}{1cm}%
\setlist[enumerate,1]{label=\textbf{(\alph*)}}

\addto\captionspolish{\renewcommand{\figurename}{Schemat}}
\addto\captionspolish{\renewcommand{\chaptername}{Lista}}
\addto\captionspolish{\renewcommand{\contentsname}{Spis zada≈Ñ.}}

% predefined sections
\tcbuselibrary{theorems, breakable, skins, hooks}

% ~~~
% problem box
% ~~~

% colors
\definecolor{problembg}{HTML}{f8f9fa}
\definecolor{problemframe}{HTML}{e9ecef}
\definecolor{problemdef}{HTML}{212529}

\newtcbtheorem[number within=section]{Problem}{Zadanie}
{%
  enhanced,
  breakable,
  oversize,
  colback = problembg,
  colframe = problemframe,
  coltitle = problemdef,
  sharp corners,
  detach title,
  before upper=\tcbtitle\quad,
  fonttitle = \bfseries\sffamily,
  description font = \mdseries,
  separator sign none,
}
{problem}

% command
\newcommand{\problem}[2]
{%
  \begin{Problem}{#1}{}
    #2
  \end{Problem}
}%

% ~~~
% formula box
% ~~~

% colors
\definecolor{formulabg}{HTML}{f6f2f0}
\definecolor{formulaframe}{HTML}{d0b49f}
\definecolor{formuladef}{HTML}{212529}

\newtcbtheorem[number within=section]{Formula}{}
{%
  enhanced,
  breakable,
  colback = formulabg,
  coltitle = formuladef,
  frame hidden,
  boxrule = 0sp,
  borderline west = {2pt}{0pt}{formulaframe},
  sharp corners,
  detach title,
  before upper = \tcbtitle\par\smallskip,
  fonttitle = \bfseries\sffamily,
  description font = \mdseries,
  separator sign none,
  segmentation style={solid, formulaframe},
}
{formula}

\newcommand{\formula}[2]
{%
  \begin{Formula}{#1}{}
    #2
  \end{Formula}
}%

% contents
\titlecontents{part}[0pt]{\normalsize\bfseries\protect\addvspace{15pt}}%
{}{\partname{} }%
{\enspace\titlerule\contentspage}%
