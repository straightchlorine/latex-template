% general imports %
\usepackage{xifthen}
\usepackage{tcolorbox}
\usepackage{theoremref}
\usepackage{enumitem}
\usepackage{bookmark}
\usepackage{comment}
\usepackage{xcolor}
\usepackage{transparent}
\usepackage{varwidth}
\usepackage{multicol}
\usepackage{import}
\usepackage{pdfpages}
\usepackage{lmodern}
\usepackage{newpxtext}
\usepackage{fvextra}
\usepackage{subfiles}
\usepackage{authblk}
\usepackage[pagestyles, outermarks, newparttoc]{titlesec}
\usepackage{titletoc}

% math imports
\usepackage{amsmath,amsfonts,amsthm,amssymb,mathtools}
\usepackage[varbb]{newpxmath}
\usepackage[makeroom]{cancel}
\usepackage{xfrac}
\usepackage{array}

% tikz imports
\usepackage{tikz-cd}
\usepackage{tikz}
\usepackage{scalerel}
\usepackage{pict2e}
\usepackage{tkz-euclide}
\usepackage{tikzsymbols}
\usetikzlibrary{calc}
\usetikzlibrary{patterns,arrows.meta}
\usetikzlibrary{shadows}
\usetikzlibrary{external}

% cs imports
%\usepackage[algoruled,linesnumbered,titlenumbered]{algorithm2e}
%\usepackage{minted}
%\setminted[python]{breaklines, framesep=2mm, fontsize=\footnotesize, numbersep=5pt}

% pgfplots
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usepgfplotslibrary{statistics}
\usepgfplotslibrary{fillbetween}

% animated sections
\usepackage{graphicx}
\usepackage{animate}

\definecolor{clink}{HTML}{002137}
\usepackage{hyperref}
\hypersetup{%
  pdftitle = {Grand},
  colorlinks = true,
  linkcolor = clink,
  bookmarksnumbered = true,
  bookmarksopen = true
}

% language
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{csquotes}
\usepackage[bibencoding=utf8,backend=biber,sorting=none]{biblatex}

% general settings
\setlength{\parindent}{1cm}%
\setlist[enumerate,1]{label=\textbf{(\alph*)}}

\addto\captionspolish{\renewcommand{\figurename}{Ilustracja}}
\addto\captionspolish{\renewcommand{\chaptername}{Rozdział}}
\addto\captionspolish{\renewcommand{\contentsname}{Spis treści.}}

% predefined sections
\tcbuselibrary{theorems, breakable, skins, hooks}

% ~~~
% important box
% ~~~

% colors
\definecolor{importantbg}{HTML}{bf0603}
\definecolor{importantframe}{HTML}{8d0801}
\definecolor{importantdef}{HTML}{f4d58d}

\newtcbtheorem[]{Important}{}
{%
  enhanced,
  breakable,
  colback = importantbg,
  coltitle = importantdef,
  coltext = importantdef,
  frame hidden,
  boxrule = 0sp,
  borderline south = {2pt}{0pt}{importantframe},
  sharp corners,
  detach title,
  before upper = \tcbtitle\par\smallskip,
  fonttitle = \fontfamily{lmss}\selectfont\bfseries,
  fontupper = \fontfamily{lmss}\selectfont\bfseries,
  description font = \mdseries,
  separator sign none,
  segmentation style = {solid, importantframe},
  description delimiters = {\flqq}{\frqq}
}
{important}

\newcommand{\imp}[1]
{%
  \begin{Important*}{Important}{}
    #1
  \end{Important*}
}%

% ~~~
% formula box
% ~~~

% colors
\definecolor{formulabg}{HTML}{f6f2f0}
\definecolor{formulaframe}{HTML}{d0b49f}
\definecolor{formuladef}{HTML}{212529}

\newtcbtheorem[number within=section]{Formula}{}
{%
  enhanced,
  breakable,
  colback = formulabg,
  coltitle = formuladef,
  frame hidden,
  boxrule = 0sp,
  borderline west = {2pt}{0pt}{formulaframe},
  sharp corners,
  detach title,
  before upper = \tcbtitle\par\smallskip,
  fonttitle = \bfseries\sffamily,
  description font = \mdseries,
  separator sign none,
  segmentation style={solid, formulaframe},
}
{formula}

\newcommand{\formula}[2]
{%
  \begin{Formula}{#1}{}
    #2
  \end{Formula}
}%

% contents
\titlecontents{part}[0pt]{\normalsize\bfseries\protect\addvspace{15pt}}%
{}{\partname{} }%
{\enspace\titlerule\contentspage}%
